<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Street Waste Severity Analyzer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <header class="header">
      <div class="brand">
        <div class="brand-logo">E</div>
        <div>
          <div class="brand-title">Street Waste Severity Analyzer</div>
          <div class="brand-subtitle">Image-driven civic environmental assessment</div>
        </div>
      </div>
      <div class="pill">
        <span class="pill-dot" id="statusDot"></span>
        <span id="statusText">Waiting for image upload</span>
      </div>
    </header>

    <main class="layout">
      <!-- Left: Input -->
      <section class="card">
        <div class="card-inner">
          <div class="card-header">
            <div>
              <h2 class="card-title">Upload street dump image</h2>
              <p class="card-tag">Step 1 · contextual details</p>
            </div>
          </div>

          <p class="helper">
            Add a real-world photo of a public-street garbage dump. The system will scan the image,
            estimate severity, and generate a colour-coded report (green / yellow / red).
          </p>

          <label class="upload-zone" for="imageInput">
            <div class="upload-icon">↥</div>
            <div>
              <div class="upload-text-primary">Drop an image here or browse</div>
              <div class="upload-text-secondary">
                Prefer landscape shots where the dump, adjacent road, drains, or water bodies are clearly visible.
              </div>
            </div>
          </label>
          <input id="imageInput" type="file" accept="image/*" />

          <div id="imagePreview" class="image-preview" style="display: none;">
            <div class="image-thumb" id="imageThumb"></div>
            <div>
              <div class="image-info-main" id="imageName"></div>
              <div class="image-info-sub" id="imageMeta">Image loaded · Ready for analysis</div>
            </div>
          </div>

          <button class="primary-btn" id="analyseBtn" type="button">
            <span class="btn-icon">AI</span>
            Scan image & build report
          </button>
        </div>
      </section>

      <!-- Right: Output -->
      <section class="result-card">
        <div class="result-inner">
          <div class="pill-row">
            <div class="chip">
              <span class="chip-dot green"></span>
              Severity bands: Green · Yellow · Red
            </div>
            <div class="chip">
              <span class="chip-dot red"></span>
              Auto-generated from image only
            </div>
          </div>

          <div class="score-row">
            <div class="score-main">
              <div class="score-circle" id="scoreCircle">
                <span class="score-value" id="outScore">–/10</span>
              </div>
              <div class="score-labels">
                <div class="score-title" id="severityLabel">No assessment yet</div>
                <div class="score-caption">
                  Higher scores indicate greater environmental and public-health risk.
                </div>
              </div>
            </div>
            <div class="legend-row">
              <div class="legend-bars">
                <div class="legend-bar"></div>
              </div>
              <div class="legend-labels">
                <span>Green</span>
                <span>Yellow</span>
                <span>Red</span>
              </div>
            </div>
          </div>

          <div class="result-grid">
            <div class="metric">
              <span class="metric-label">Waste category</span>
              <span class="metric-value" id="outCategory">—</span>
            </div>
            <div class="metric">
              <span class="metric-label">Estimated volume</span>
              <span class="metric-value" id="outVolume">—</span>
            </div>
            <div class="metric">
              <span class="metric-label">Severity colour</span>
              <span class="metric-value" id="outColour">—</span>
              <div class="metric-pill-high" id="hazardPill" style="display:none;">
                <span></span>
                High-risk conditions detected
              </div>
            </div>
          </div>

          <div class="result-justification">
            <strong>Brief justification:</strong>
            <span id="outJustification">
              Upload an image and click “Scan image &amp; build report” to generate a severity assessment.
            </span>
          </div>

          <div class="badge-row">
            <span class="badge badge-crit" id="actionBadge" style="display:none;">
              Action recommended within 24 hours
            </span>
            <span class="badge" id="moderateBadge" style="display:none;">
              Schedule clean-up within 72 hours
            </span>
            <span class="badge" id="lowBadge" style="display:none;">
              Monitor site and discourage dumping
            </span>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="script.js"></script>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"><\/script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"><\hj/script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js"><\/script>
</body>
</html>
